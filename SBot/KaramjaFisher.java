public class KaramjaFisher extends Script
{
    public KaramjaFisher(mudclient rs)
    {
        super(rs);
    }
    public String[] getCommands()
    {
   return new String[]{"fish"};
    }
    public void start(String command, String parameter[])
    {
   DisplayMessage("@whi@Karamja Fisher - @blk@m@yel@a@gre@d@cya@e @mag@b@red@y @ran@XpjX", 3);
      {
    Walk(328,713);
    Wait(999);
    Walk(334,713);
    Wait(999);
    Walk(339,712);
    Wait(999);
    Walk(345,710);
    Wait(999);
    Walk(353,710);
    Wait(999);
    Walk(364,703);
    Wait(999);
    Walk(369,703);
    Wait(999);
    Walk(371,698);
    Wait(999);
    Walk(371,692);
      }
    while(Running())
   {
      while(InvCount()<30&&Running())
      {
         if(Fatigue()>85)
         {
            while(!Sleeping())
            {
               Use(FindInv(1263));
               Wait(2500);
            }
            while(Sleeping())
               Wait(100);
               }
         AtObject2(368, 684);
         Wait(999);
      }
      if(Running())
      {
         Walk(371,692);
         Wait(999);
         Walk(371,698);
         Wait(999);
         Walk(369,703);
         Wait(999);
         Walk(364,709);
         Wait(999);
         Walk(353,710);
         Wait(999);
         Walk(345,710);
         Wait(999);
         Walk(339,712);
         Wait(999);
         Walk(334,713);
         Wait(999);
         Walk(328,713);
         Wait(999);
      }
      if(Running())
      {
         while(!QuestMenu())
         {
            long T=System.currentTimeMillis();
            TalkToNPC(GetNearestNPC(163));
            while(System.currentTimeMillis()-T<=4000&&!QuestMenu())
               Wait(2000);
         }
         Answer(0);
         while(!QuestMenu())
            Wait(2000);
         Answer(1);
         while(!QuestMenu())
            Wait(2000);
         Answer(0);
      }
      if(Running())
      {
         Wait(8000);
         Walk(268,642);
         Wait(999);
         Walk(269,635);
         Wait(999);
         Walk(269,629);
         Wait(999);
         Walk(262,623);
         Wait(999);
         Walk(253,615);
         Wait(999);
         Walk(246,610);
         Wait(999);
         Walk(242,614);
         Wait(999);
         Walk(237,619);
         Wait(999);
         Walk(232,625);
      }
      if(Running())
      {
         while(!QuestMenu())
         {
            long T=System.currentTimeMillis();
            TalkToNPC(GetNearestNPC(227));
            while(System.currentTimeMillis()-T<=4000&&!QuestMenu())
               Wait(2000);
         }
         Answer(1);
                  while(!QuestMenu())
                     Wait(2000);
                  Answer(1);
         while(!QuestMenu())
            Wait(2000);
         Answer(4);
         Wait(999);
      }
      if(Running())
      {
                  Walk(233,621);
                  Wait(999);
                  Walk(239,614);
                  Wait(999);
                  Walk(250,609);
                  Wait(999);
                  Walk(256,614);
                  Wait(999);
                  Walk(261,618);
                  Wait(999);
                  Walk(263,622);
                  Wait(999);
                  Walk(269,636);
                  Wait(999);
                  Walk(269,640);
                  Wait(999); 
        Walk(269,643);
                  Wait(999);
                  Walk(269,646);
        Wait(999);
        Walk(269,638);
        Wait(999);
        Walk(269,642);
        Wait(999);
        Walk(269,646);
               }
               if(Running())
               {
         while(!QuestMenu()&&Running())
         {
            long T=System.currentTimeMillis();
            TalkToNPC(GetNearestNPC(166));
            while(System.currentTimeMillis()-T<=4000&&!QuestMenu())
               Wait(2000);
         }
         Answer(0);
         Wait(8000);
      }
      if(Running())
      {
         Walk(328,713);
         Wait(999);
         Walk(337,712);
         Wait(999);
         Walk(346,710);
         Wait(999);
         Walk(351,710);
         Wait(999);
         Walk(360,710);
         Wait(999);
         Walk(364,710);
         Wait(999);
         Walk(367,707);
         Wait(999);
         Walk(371,696);
         Wait(999);
         Walk(370,686);
      }
   }
   DisplayMessage("@ran@Karamja Fishing - @blk@m@yel@a@gre@d@cya@e @mag@b@red@y @ran@XpjX - @red@Finished!", 3);
    }
}